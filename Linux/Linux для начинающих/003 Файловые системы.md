## Типы файловых систем

По умолчанию **ubunta** = **ext4**
Система имеет ограничение на количество inode.
Создавая пустой файл мы резервируем 4к места на диске.

```
# Просмотр информации о файле
stat file

# Информация о ноде файла
ls -li

# Просомтр количества свободных нод
df -i
```

**RedHat** дистрибутивы позволяют работать с **xfs**, в которой ноды генерятся динамически.
Т.е. система не имеет ограничений ext4

## Ссылки

**Хардлинк** - еще одна запись о файле в каталоге.
Файл сущестует до тех пор, пока на него существует хотя бы один хардлинк.
Раздача прав на любой хардлинк равносильна раздаче прав на сам файл и все его хардлинки.
```
# Создание
ln file1 file1_hl
ls -li
```

При удалении любого хардлинка с файлом и остальными хардлинками ничего не происходит.
Просто уменьшается счетчик хардлинков.
Хардлинки не занимают ноды.

> Хардлинк нельзя создать на каталог.
> 
> Хардлинк можно создать только в пределах одной файловой системы (одного диска)

**Софтлинк** - аналог ярлыка.
```
# Создание
ln -s file1 file1_lnk

Софтлинк занимают ноды.
Имеют по умолчанию все разрешения.
После того как приводят на нужный файл, далее используют права этого файла.
Софтлинк можно создавать на каталоги и между разными файловыми системами.

Софтлинки наиболее используемый тип.
Применяются для ссылок на обновляемое ПО.
После обновления пересоздается только линк на новую версию файлов.
Для всех остальных, кто смотрит на линк, больше при этом ничего не меняется.
```
### Найти все ссылки на файл
> https://www.baeldung.com/linux/find-all-links-for-file
```
find <startdir> -type l -ls 2> /dev/null | grep <filemask>
find ~ -type l -ls 2> /dev/null | grep fullscreen
find / -type l -ls 2> /dev/null | grep dir1
```

